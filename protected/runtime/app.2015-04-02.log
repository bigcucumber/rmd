2015/04/02 11:32:25 [error] [exception.CException] exception 'CException' with message 'CWebApplication and its behaviors do not have a method or closure named "getSftp".' in D:\Workspace\php\sites\training-cn\framework1.1.14\base\CComponent.php:266
Stack trace:
#0 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php(7): CComponent->__call('getSftp', Array)
#1 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php(7): CWebApplication->getSftp()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\actions\CInlineAction.php(48): DefaultController->actionIndex()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams(Array)
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): CController->runAction(Object(CInlineAction))
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#6 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): CController->run('index')
#7 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController('dataprocess/def...')
#8 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#9 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CApplication->run()
#10 {main}
REQUEST_URI=/dataprocess/default/index
---
2015/04/02 12:03:18 [error] [php] Missing argument 1 for CSVSource::__construct(), called in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php on line 7 and defined (D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php:23)
Stack trace:
#0 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams()
#1 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): DefaultController->runAction()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): DefaultController->runActionWithFilters()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): DefaultController->run()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController()
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#6 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CWebApplication->run()
REQUEST_URI=/dataprocess/default/index
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php (23)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php (7)
in D:\Workspace\php\sites\training-cn\rmd\index.php (12)
2015/04/02 13:31:47 [error] [php] Missing argument 1 for CSVSource::download(), called in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php on line 9 and defined (D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php:67)
Stack trace:
#0 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams()
#1 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): DefaultController->runAction()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): DefaultController->runActionWithFilters()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): DefaultController->run()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController()
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#6 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CWebApplication->run()
REQUEST_URI=/dataprocess/default/index
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php (67)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php (9)
in D:\Workspace\php\sites\training-cn\rmd\index.php (12)
2015/04/02 13:31:51 [error] [php] Missing argument 1 for CSVSource::download(), called in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php on line 9 and defined (D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php:67)
Stack trace:
#0 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams()
#1 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): DefaultController->runAction()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): DefaultController->runActionWithFilters()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): DefaultController->run()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController()
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#6 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CWebApplication->run()
REQUEST_URI=/dataprocess/default/index
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php (67)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php (9)
in D:\Workspace\php\sites\training-cn\rmd\index.php (12)
2015/04/02 13:45:22 [error] [exception.CException] exception 'CException' with message 'SftpComponent and its behaviors do not have a method or closure named "connection".' in D:\Workspace\php\sites\training-cn\framework1.1.14\base\CComponent.php:266
Stack trace:
#0 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php(76): CComponent->__call('connection', Array)
#1 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php(76): SftpComponent->connection()
#2 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php(9): CSVSource->download('.mailrc')
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\actions\CInlineAction.php(48): DefaultController->actionIndex()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams(Array)
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): CController->runAction(Object(CInlineAction))
#6 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#7 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): CController->run('index')
#8 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController('dataprocess/def...')
#9 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#10 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CApplication->run()
#11 {main}
REQUEST_URI=/dataprocess/default/index
---
2015/04/02 13:55:08 [error] [php] fopen(/cardletter/data/userlog_2015-04-01.csv): failed to open stream: No such file or directory (D:\Workspace\php\sites\training-cn\rmd\protected\extensions\sftp\Net\SFTP.php:1199)
Stack trace:
#0 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php(85): SftpComponent->getFile()
#1 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php(9): UserinfoSource->download()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\actions\CInlineAction.php(48): DefaultController->actionIndex()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): DefaultController->runAction()
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): DefaultController->runActionWithFilters()
#6 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): DefaultController->run()
#7 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController()
#8 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#9 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CWebApplication->run()
REQUEST_URI=/dataprocess/default/index
in D:\Workspace\php\sites\training-cn\rmd\protected\extensions\sftp\Net\SFTP.php (1199)
in D:\Workspace\php\sites\training-cn\rmd\protected\extensions\sftp\SftpComponent.php (219)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php (85)
2015/04/02 15:36:30 [error] [php] Undefined variable: localStore (D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php:102)
Stack trace:
#0 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams()
#1 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): DefaultController->runAction()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): DefaultController->runActionWithFilters()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): DefaultController->run()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController()
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#6 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CWebApplication->run()
REQUEST_URI=/dataprocess/default/index
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\CSVSource.php (102)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php (14)
in D:\Workspace\php\sites\training-cn\rmd\index.php (12)
2015/04/02 15:37:30 [error] [php] fopen() expects at least 2 parameters, 1 given (D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php:60)
Stack trace:
#0 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php(15): UserinfoSource->getValidData()
#1 D:\Workspace\php\sites\training-cn\framework1.1.14\web\actions\CInlineAction.php(48): DefaultController->actionIndex()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): DefaultController->runAction()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): DefaultController->runActionWithFilters()
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): DefaultController->run()
#6 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController()
#7 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#8 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CWebApplication->run()
REQUEST_URI=/dataprocess/default/index
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php (60)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php (43)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php (15)
2015/04/02 15:37:49 [error] [php] fopen() expects at least 2 parameters, 1 given (D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php:60)
Stack trace:
#0 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php(15): UserinfoSource->getValidData()
#1 D:\Workspace\php\sites\training-cn\framework1.1.14\web\actions\CInlineAction.php(48): DefaultController->actionIndex()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): DefaultController->runAction()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): DefaultController->runActionWithFilters()
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): DefaultController->run()
#6 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController()
#7 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#8 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CWebApplication->run()
REQUEST_URI=/dataprocess/default/index
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php (60)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php (43)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php (15)
2015/04/02 15:37:52 [error] [php] fopen() expects at least 2 parameters, 1 given (D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php:60)
Stack trace:
#0 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php(15): UserinfoSource->getValidData()
#1 D:\Workspace\php\sites\training-cn\framework1.1.14\web\actions\CInlineAction.php(48): DefaultController->actionIndex()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): DefaultController->runAction()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): DefaultController->runActionWithFilters()
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): DefaultController->run()
#6 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController()
#7 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#8 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CWebApplication->run()
REQUEST_URI=/dataprocess/default/index
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php (60)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php (43)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php (15)
2015/04/02 15:50:29 [error] [php] substr() expects parameter 1 to be string, array given (D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php:128)
Stack trace:
#0 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php(43): UserinfoSource->readCsv()
#1 D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\controllers\DefaultController.php(15): UserinfoSource->getValidData()
#2 D:\Workspace\php\sites\training-cn\framework1.1.14\web\actions\CInlineAction.php(48): DefaultController->actionIndex()
#3 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(308): CInlineAction->runWithParams()
#4 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(286): DefaultController->runAction()
#5 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CController.php(265): DefaultController->runActionWithFilters()
#6 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(282): DefaultController->run()
#7 D:\Workspace\php\sites\training-cn\framework1.1.14\web\CWebApplication.php(141): CWebApplication->runController()
#8 D:\Workspace\php\sites\training-cn\framework1.1.14\base\CApplication.php(180): CWebApplication->processRequest()
#9 D:\Workspace\php\sites\training-cn\rmd\index.php(12): CWebApplication->run()
REQUEST_URI=/dataprocess/default/index
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php (128)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php (73)
in D:\Workspace\php\sites\training-cn\rmd\protected\modules\dataprocess\models\UserinfoSource.php (43)
